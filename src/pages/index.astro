---
import Title from "../components/Title.astro";
import Cursor from "../components/Cursor.astro";
import "../globals.css";
import ScrollIndicator from "../components/ScrollIndicator.astro";
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Seth Burkart</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.css"
    />
  </head>
  <body class="w-screen h-screen overflow-hidden text-white bg-black">
    <Cursor />
    <div data-scroll-container class="overflow-y-scroll">
      <div class="place-items-center grid h-screen relative">
        <Title />
        <ScrollIndicator />
      </div>
      <div class="flex justify-center px-[10%] pb-[10%] w-screen">
        <iframe width="1237" height="686" class="cursor-pointer hide-cursor z-50 rounded-lg" src="https://www.youtube.com/embed/oFtIIDcZo80" title="Demo Reel 2022" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
      </div>
        <!--ScrollingAbilities /-->
      <!--div data-scroll-container class="h-screen bg-stone-900">
        <div class="flex gap-4" data-scroll data-scroll-sticky data-scroll-target="#sticky-element">
          <h2 id="sticky-element" data-scroll class="text-white font-bold text-8xl">I do</h2>
          <div class="overflow-clip">
            <h2 class="font-bold text-8xl highlight bg-clip-text">
              <span video-editing-title>Video Editing</span>
            </h2>
          </div>
        </div>
      </div>
      <div id="test" class="h-screen bg-stone-800"></div-->
    </div>
  </body>
</html>

<script
  is:inline
  src="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.min.js"
></script>
<script
  is:inline
  src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"
></script>
<script
  is:inline
  src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"
></script>

<script is:inline>

/*
// Video editing slide
gsap.fromTo("[scroll-hide]",{
  opacity: 0,
  ease: "power4.out",
  duration: 3,
  markers: false,
  scrollTrigger: {
    trigger: "[scroll-hide]",
    start: "top 80%",
    end: "bottom 80%",
    scrub: true,
  }
});*/

</script>

<script is:inline>

  var scroll = new LocomotiveScroll({
    el: document.querySelector("[data-scroll-container]"),
    smooth: true,
    getDirection: true,
    lerp: 0.05,
    allowTouchMove: true,
    smartphone: {
      smooth: true,
    },
  });

  const iframe = document.querySelector('iframe');
  iframe.setAttribute('scrolling', 'no');

/*
  gsap.registerPlugin('ScrollTrigger');
  ScrollTrigger.defaults({
    scroller: "[data-scroll-container]",
    markers: true,
  });

  ScrollTrigger.scrollerProxy("[data-scroll-container]", {
    scrollTop(value) {
      return arguments.length
        ? scroll.scrollTo(value, 0, 0)
        : scroll.scroll.instance.scroll.y;
    },
    getBoundingClientRect() {
      return { top: 0, left: 0, width: window.innerWidth, height: window.innerHeight };
    },
    pinType: document.querySelector("[data-scroll-container]").style.transform ? "transform" : "fixed"
  });

  ScrollTrigger.addEventListener("refresh", () => scroll.update());
  ScrollTrigger.refresh();*/

  scroll.on("scroll", () => {
    ScrollTrigger.update();
    document.documentElement.setAttribute("data-scrolling", instance.direction);

    const scrollIndicator = document.querySelector(".bounce");
    scrollIndicator.classList.add("hide");
  });
</script>

<style>
  .highlight {
    @apply block;
    user-select: none;
    background: linear-gradient(
      30deg,
      rgba(37, 99, 235, 1) 0%,
      rgba(192, 132, 252, 1) 45%,
      rgba(192, 132, 252, 0) 50%
    );
    background-clip: text;
    -webkit-background-clip: text; /* Safari/Chrome */
    -moz-background-clip: text; /* Firefox */
    color: transparent;
    background-size: 250%;
  }
</style>
